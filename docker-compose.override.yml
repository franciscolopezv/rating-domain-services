# Development overrides for docker-compose.yml
# Note: Infrastructure services (postgres, kafka, zookeeper) are provided by the platform-infrastructure network
services:

  command-service:
    environment:
      SPRING_PROFILES_ACTIVE: dev
      DB_HOST: postgres
      DB_PORT: 5432
      DB_NAME: ratings_write
      DB_USERNAME: ratings_user
      DB_PASSWORD: ratings_pass
      KAFKA_BOOTSTRAP_SERVERS: kafka:29092
      # Development settings
      LOGGING_LEVEL_COM_RATINGS: DEBUG
      SPRING_JPA_SHOW_SQL: true
      SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL: true
    volumes:
      # Mount source code for hot reload (if using spring-boot-devtools)
      - ./command-service/src:/app/src:ro

  query-service:
    environment:
      SPRING_PROFILES_ACTIVE: dev
      DB_HOST: postgres
      DB_PORT: 5432
      DB_NAME: ratings_read
      DB_USERNAME: ratings_user
      DB_PASSWORD: ratings_pass
      KAFKA_BOOTSTRAP_SERVERS: kafka:29092
      KAFKA_CONSUMER_GROUP_ID: ratings-projector-dev
      # Development settings
      LOGGING_LEVEL_COM_RATINGS: DEBUG
      SPRING_JPA_SHOW_SQL: true
      SPRING_JPA_PROPERTIES_HIBERNATE_FORMAT_SQL: true
      GRAPHQL_SCHEMA_PRINTER_ENABLED: true
    volumes:
      # Mount source code for hot reload (if using spring-boot-devtools)
      - ./query-service/src:/app/src:ro

